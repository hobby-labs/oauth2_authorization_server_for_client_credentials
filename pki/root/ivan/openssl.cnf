[ ca ]
default_ca = CA_default
[ CA_default ]
dir=.
certs=$dir/certs
crl_dir=$dir/crl
new_certs_dir=$dir/newcerts
database=$dir/index.txt
serial=$dir/serial
crlnumber=$dir/crlnumber
certificate=$dir/certs/root-ca.cert.pem
private_key=$dir/private/root-ca.key.pem
default_md=sha256
default_days=9125
unique_subject=no
policy=policy_strict
crl_extensions=crl_ext
[ policy_strict ]
commonName = supplied
[ req ]
default_md=sha256
distinguished_name=req_dn
string_mask=utf8only
x509_extensions=v3_root_ca
prompt=no
[ req_dn ]
CN=ivan.ca.example.com
[ v3_root_ca ]
subjectKeyIdentifier=hash
authorityKeyIdentifier=keyid:always
basicConstraints=critical,CA:true,pathlen:1
keyUsage=critical,keyCertSign,cRLSign
[ v3_intermediate_ca ]
subjectKeyIdentifier=hash
authorityKeyIdentifier=keyid:always,issuer
basicConstraints=critical,CA:true,pathlen:0
keyUsage=critical,keyCertSign,cRLSign
[ crl_ext ]
authorityKeyIdentifier=keyid:always
